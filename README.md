# schoolfuncompling
编译原理课程设计

## 实验一

编制一个能够分析整数、标识符、分隔符、主要运算符和主要关键字的词法分析程序。

**具体要求**：用C、C++或Java等语言编写一个简单的词法分析程序，扫描C语言小子集的源程序，根据给定的词法规则，识别单词，填写相应的表。如果产生词法错误，则显示错误信息、位置，并试图从错误中恢复。简单的恢复方法是忽略该字符（或单词）重新开始扫描。

![image-20230427190412691](.\image\image-20230427190412691.png)

<标识符>::=<字母>

<标识符>::=<标识符><字母>

<标识符>::=<标识符><数字>

<常量>::＝<无符号整数>

<无符号整数>::=<数字序列>

<数字序列>::=<数字序列><数字>

<数字序列>::=<数字>

<字母>::=a|b|c|……|x|y|z

<数字>::=0|1|2|3|4|5|6|7|8|9

<加法运算符>::＝+|-

<乘法运算符>::=*|／

<关系运算符>::＝<|>|!=|>=|<=|==

<分界符>::＝,|;|(|)|{|}

<保留字>::＝main|int|if|else|while|do

即：

\1. 字符表

保留字：main，int，if，else，while，do

字母（全小写）：a|b|c|……|x|y|z

数字：0,1,2,3,4,5,6,7,8,9

运算符和界符：<，>，!=，>=，<=，==，,，;，(，)，{，}

 

**四、单词的二元式描述**
五、编写词法分析程序的步骤：

（1）确定所要翻译的语言（或其子集）。

C语言、C++语言 或  Java 语言

（2）设计属性字，及各类表格，如标识符表、常量表、符号及其机内表示对照表等。

与词法分析有关的表格：

2．单词的二元式描述，如上表

 

3．画出总控流程图及各个子程序的流程图。

 



 

 

 

\4. 程序

输入：一个存放C语言程序的s.c文件

输出：存放以（单词，种别码）形式输出的result.txt文件

 

需要6个数组：

\1. 存储关键字 key[6]

\2. 存储对应下标关键字的种别码 keyNum[6]

\3. 存储运算符和界符 symbol[17]

\4. 存储运算符对应下标的种别码 symbolNum[17]

\5. 存储从文件中取出的每个字符（不包括括号）letter[1000]

 

主要函数：

TakeWord();

功能：将文件letter[]中每个字符进行提取，找出关键字，输出种别码

Num作为全局变量保存提取到字符的哪个下标

\1. 先提取一个字符，如果是字母，进入case1，调用identifier（），不断的提取字母或数字进行连接，每连接一个字符用int isKeyWord（）程序（返回关键字种别码）判断是否为关键字，是就退出函数返回string，不是就继续执行函数，直到连接的字符不再是字母或数字，即此时字符串为标识符

\2. 如果是数字，进入case 2，调用Number（）函数，不断进行字符串连接，知道下一个连接字符不再是数字

\3. 如果是符号，进入case 3，调用symbolStr（）函数，如果是=,>,<,!，则要继续进行下个字符判断，其余符号可以直接返回

其他辅助函数：

int isSymbol（）判断运算符和界符，并返回种别码

bool isNum（） 判断是否为数字

bool isLetter（）判断是否为字母

int isKeyWord（）判断是否为关键字,是返回种别码

int typeword（）返回单个字符的类型

string identifier（）标识符的连接

string symbolStr（）符号和界符的连接

string Number（）数字的连接

void print（）输出

## 实验二

1.用递归下降分析法对任意输入的符号串进行分析：
2.LL（1）预测分析程序
模块结构：
（1）定义部分：定义常量、变量、数据结构。
（2）初始化：设立LL(1)分析表、初始化变量空间（包括堆栈、结构体、数组、临时变量等）；
（3）控制部分：从键盘输入一个表达式符号串；
（4）利用LL(1)分析算法进行表达式处理：根据LL(1)分析表对表达式符号串进行堆栈（或其他）操作，输出分析结果，如果遇到错误则显示错误信息。

**表2-1  文法的分析表**

| 非终结符 | 输入符号 |        |        |        |        |        |      |      |
| -------- | -------- | ------ | ------ | ------ | ------ | ------ | ---- | ---- |
| i        | +        | -      | *      | /      | (      | )      | $    |      |
| E        | E->TG    |        |        |        |        | E->TG  |      |      |
| G        |          | G->+TG | G->-TG |        |        |        | G->ε | G->ε |
| T        | T->FS    |        |        |        |        | T->FS  |      |      |
| S        |          | S->ε   | S->ε   | S->*FS | S->/FS |        | S->ε | S->ε |
| F        | F->i     |        |        |        |        | F->(E) |      |      |

对下列文法，用递归下降法和LL（1）分析法对任意输入的符号串进行分析：
    E->TG    
    G->+TG|—TG    
    G->ε    
    T->FS    
    S->*FS|/FS    
	S->ε    
	F->(E)    
	F->i
输出的格式如下：
(1)LL（1）分析程序，编制人：姓名，学号，班级
(2)输入一以#结束的符号串(包括+—*/（）i#)：在此位置输入符号串 
(3)输出过程如下：

| 步骤 | 分析栈 | 剩余输入串 | 所用产生式 |
| ---- | ------ | ---------- | ---------- |
| 1    | E      | $i+i*i$ #  | E->TG      |

(4)输入符号串为非法符号串(或者为合法符号串)

备注：
(1)在“所用产生式”一列中如果对应有推导则写出所用产生式；如果为匹配终结符则写明匹配的终结符；如分析异常出错则写为“分析出错”；若成功结束则写为“分析成功”。
(2) 在此位置输入符号串为用户自行输入的符号串。
(3)上述描述的输出过程只是其中一部分的。 


## 实验三
​	构造LR(1)分析程序，利用它进行语法分析，判断给出的符号串是否为该文法识别的句子，了解LR（K）分析方法是严格的从左向右扫描，和自底向上的语法分析方法。

## 实验四

​	可选择LL1分析法、算符优先分析法、LR分析法之一，实现如下表达式文法的语法制导翻译过程。文法G[E]如下所示：

    E→E+T | E-T | T
    T→T*F | T/F | F
    F→P^F | P
    F→P^F | P P→(E) | i

​	要求构造出符合语义分析要求的属性文法描述，并在完成实验二（语法分析）的基础上，进行语义分析程序设计，最终输出与测试用例等价的四元式中间代码序列。
